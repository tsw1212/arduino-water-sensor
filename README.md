# 💧 מערכת חכמה לניהול מים וחימום עם ESP32

פרויקט זה מבוסס על בקר ESP32 ומטרתו לנהל מערכת מים בצורה חכמה: למדוד את גובה המים, את הטמפרטורה שלהם, ולשלוט על ברז חשמלי וגוף חימום בהתאם לנתונים בזמן אמת.

---

## 🚀 רכיבים עיקריים

- **ESP32 DevKit**
- **חיישן מרחק אולטרסוני (Ultrasonic)** – למדידת גובה המים
- **חיישן טמפרטורה DS18B20** – למדידת טמפרטורת המים
- **Relay x2** – אחד להפעלת גוף חימום ואחד לברז חשמלי
- **ספריות:**
  - `OneWire`
  - `DallasTemperature`
  - `Preferences` – לשמירת שם המשתמש בזיכרון הפנימי

---

## ⚙️ פונקציונליות

### מד טמפרטורה (DS18B20)
- מבצע קריאת טמפרטורה מדויקת במעלות צלזיוס
- במידה והחיישן לא מחובר או הערך חריג – נחשב לקריאה לא תקינה

### מד גובה מים (Ultrasonic)
- מודד את המרחק מהחיישן לפני המים
- אם המרחק גדול מהמוגדר – נחשב "מים בגובה נמוך"

### לוגיקה עסקית
- **ברז** נפתח אם גובה המים נמוך
- **גוף החימום** פעיל רק כאשר:
  - גובה המים תקין
  - הטמפרטורה תקינה ולא עולה על `40°C`

---

## 📝 תכונות נוספות

- שמירת שם משתמש בזיכרון הלא נדיף של ESP32 (באמצעות `Preferences`)
- הדפסה סדרתית של סטטוס חיישנים והפלטים

---

## 📦 מבנה הקוד

```cpp
setup() {
  // הגדרת פינים, הפעלת חיישנים, הדפסת סטטוס
}

loop() {
  // קריאת חיישנים
  // החלטה אם להפעיל ברז/חימום
  // הדפסת סטטוס
  // השהייה של 10 שניות
}
